# 自分流のコーディング手順とコーディング規則

## コーディング手順

1. 仕様の確認

2. デザインを見て頭の中でコードを組み立てる

3. 画像の書き出し

4. テンプレートを使用してコーディング開始

5. バリデーションツールで文法エラーの確認

6. 各種チェック

7. 修正/完了


### 1.仕様の確認
まずは後からの変更が困難な仕様の確認をする。

* 対応ブラウザ（特にIEなんぼまでか）
* パスの指定方法（相対パスか、ルート相対パスか）
* ディレクトリの構造
* 納期、納品形式
* アニメーションの仕様
* などなど

### 2.デザインを見て頭の中でコードを組み立てる
いきなりコーディングせず、まずはPCとSPの両方のデザインを眺め、どんな構造でどうゆうプロパティを使うかを考えながら頭の中でコードを組み立てる。

この際に意識すべきは
1. クラス名の命名（クラス名がサイト内で被らないかとか、わかりやすいか名前かを検討する）

2. 共通要素の洗い出し（コンポーネント化）

3. つまづきそうなポイントの把握

これによって、実際にコーディングに着手した時のスピードや効率が格段に上がる。

### 3.画像の書き出し
デザインを見て、頭の中でコードを組み立てたこの段階で書き出しを行うことで、各画像の役割が明確になり、適切な書き出しができる。

なお、書き出しの際のポイントは以下の4つ。
1. 画像ファイル名の命名
2. 適切なファイル形式の選択
3. 高解像度ディスプレイへの対応のため2倍の大きさで書き出す
4. ファイルサイズの圧縮

#### 1.画像ファイル名の命名
`「ページ名・ブロック名」_「役割・意味」_「連番」`
この順番で命名する。

例）`contact_btn_02.png`

なお、「役割・意味」に関しては下記のような省略した単語を使う。
```
タイトル：ttl
背景画像：bg
アイコン：icon
ボタン：btn
ナビゲーション：nav
テキスト：txt
写真、図表：img
メインビジュアル：mainv
ロゴ：logo
などなど…
```
#### 2.適切なファイル形式の選択
画像の用途に合わせて適切なファイル形式で書き出す。

```
.jpg：色数の多いイラストや写真に使用する（ファイルサイズ重い）
.png（PNG-8）：単色のアイコンなどに使用する（ファイルサイズ軽い）
.png（PNG-24）：色数の多いイラストや写真に使用する（.jpgよりファイルサイズ重い）
.png（PNG-32）：背景の透過が必要な画像（ロゴなど）に使用する（ファイルサイズかなり重い）
.gif：アニメーションが必要な画像に使用する（ファイルサイズ軽い）
.svg：拡大してもボケないようにしたい画像に使用する（ファイルサイズ重い？）
```
**フォトショップでPNGは基本的にPNG-24として扱われ、書き出しの際に「ファイルサイズ小（8-bit）」を選択するとPNG-8として扱われ、「透明部分」を選択するとPNG-32として扱わるはず。**

色数の多いイラストや写真の書き出しの際には、基本的には「PNG-24」ではなくファイルサイズを抑えられる「.jpg」を使用する方が良い。

#### 3.高解像度ディスプレイへの対応のために2倍の大きさで書き出す
そのままの意味

#### 4.ファイルサイズの圧縮
ページの読み込み速度を早くするために、圧縮をする。
gulpを使うか、専用のツールを利用する。

[JPEG mini](https://www.jpegmini.com)
[Tyni png](https://tinypng.com)

### 4.テンプレートを使用してのコーディング
ここではまずは変数でfont-familyと色などを指定し、コンポーネント化できるものを先にコーディングし、それからheaderなどのBlock（大枠）のコーディング、次に細部のコーディングという順番で進める。
[テンプレート](https://github.com/benzy78/template)

### 5.バリデーションツールで文法チェック
[HTMLの文法チェック](https://validator.w3.org/#validate_by_upload)

[CSSの文法チェック](https://jigsaw.w3.org/css-validator/#validate_by_upload)

### 6.各種項目チェック

1. alt属性が正しく記載されてるか（ただの装飾の画像に関しては入れなくてもOK）
2. 誤字がないか
3. font-familyがあってるか
4. 色があってるか（微妙に違うこともあるから注意）
5. マークアップの構造が適切か（見出しタグと、img、p、a、figcaptionあたりに注意）
6. どの画面幅でも表示が崩れないか（320px~1900px）
7. アニメーションの挙動は適切か（ちゃんと動くか、transitionはちゃんと入ってるかなど）
8. 各ブラウザでの表示を確認（IE,Edge,FireFox,Chrome,Safari）
9. リンクが正しく入ってるか
10. 横スクロールしないか
11. 画像ファイルのサイズが重すぎないか
12. デザインとのズレがないかパーフェクトピクセルでチェック

とにかくセルフチェックを徹底して、クライアントからの修正の指摘がこないようにすること。
**＊各項目をnumbersのチェック表にチェックをつけながら確認する。**

### 7.修正・完了

***

## コーディング規則

* HTML,CSS(Sass)は各セクション（ブロック）の開始と終わりにコメントで区切り、区切りをわかりやすくする。

```
ex)
<!-- header -->
<header>
  
</header>
<!-- header end -->
```

* CSSのプロパティ順はposition, padding,margin,top,bottomなど「位置、余白」に関するものは一番上に書き、あとはアルファベット順に並べる。

```
ex)
sample{
  position: relative;
  top: 0;
  left: 0;
  padding: 10px;
  text-align: center;;
  width: 100px;
}
```

* クラスの命名規則は基本はMindBEMdingを使用。共通要素や下層ページが多いサイトにはモジュールコーディングの命名規則を採用。

* パスの指定方法は、特にクライアントから指定がなければ「相対パス（ドキュメントパス）」を使用する。

* 文章構造はHTML、装飾はCSSに分離する（HTMLで装飾は極力作らない）

* どの画面幅でも表示が崩れないように、基本的にリキッドデザインを意識してコーディングする（極力、絶対値ではなく相対値で指定する）。

* ブラウザは特に指定がない場合は基本「Safari」「FireFox」「IE」「Edge」「Chrome」で確認

* ブレイクポイントは基本的にBootstrapに合わせて「スマホ　768px」「1200px　992px」で指定する。

* クラス名は位置や色ではなく、役割や意味で命名し、その単語からパーツを推測できるような名前にする

* padding marginなどのように複数の値を一度に指定できるプロパティに関しては、基本的にショートハンドプロパティを使用する。

```
ng-sample{
  padding-top: 10px;
  padding-right: 20px;
  padding-bottom: 5px;
  padding-left: 10px;
}

ok-sample{
  padding: 10px 20px 5px 10px;
}
```

* 命名の際に数字を用いる際は「01」「02」のように二桁の連番で記述する。（表記が揺れるのを避けるため）

* 基本的にはBlockで左右上下の余白を指定し、残りの要素には下に対して余白をつけていく。
